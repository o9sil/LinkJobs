<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>addMemberCareer</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

<!-- jQuery library -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Popper JS -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<!-- Custom fonts for this template-->
<link th:href="@{/vendor/fontawesome-free/css/all.min.css}"
	rel="stylesheet" type="text/css">
<link
	href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
	rel="stylesheet">
<!-- Bootstrap core JavaScript-->
<script th:src="@{/vendor/jquery/jquery.min.js}"></script>
<script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
<!-- Core plugin JavaScript-->
<script th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>
<!-- Custom scripts for all pages-->
<script th:src="@{/js/sb-admin-2.min.js}"></script>
<!-- Custom styles for this template-->
<link th:href="@{/css/sb-admin-2.min.css}" rel="stylesheet">
<script th:inline="javascript">
   
   
   let helperInit = function() {
         $('#idHelper').text("");
         $('#pwHelper').text("");
         $('#nameHelper').text("");
         $('#detailAddrHelper').text("");
         $('#phoneHelper').text("");
         $('#emailHelper').text("");
         $('#birthHelper').text("");
         $('#genderHelper').text("");
         $('#areaCodeHelper').text("");
         $('#areaCode2Helper').text("");
      }
   
   
   
   
   
   $(document).ready(function () {
      
      
      
      
      $('#idFormBtn').click(function() {
         if ($('#memberIdCheck').val().length < 4) {
            $('#idCheckHelper').text("id를 4자이상");
         } else {
            $('#idForm').submit();
         }
      });

     
      //지역
      
      /*<![CDATA[*/
      $('#areaCode').change(function () {
            let areaSido=$(this).val();
            console.log("areaSido : "+areaSido);
            $('#area2Code').empty();
             $.ajax({
               url   :/*[[@{/selectArea2}]]*/, 
                 type: "POST",
                data:{'areaSido':areaSido},
                success: function (data) {
                   console.log(data);                   
               $.each(data, function (index,item) {
                  
                  console.log(item);
                  
                  var addContent = $("<option th:value='"+item.area2Gungu+"' th:text='"+item.area2Gungu+"'>"+item.area2Gungu+"</option>");
                    $("#area2Code").append(addContent);

                  
               });
            }
             });
     });   
      /*]]>*/
      
      //job
      
      /*<![CDATA[*/
      $('#jobNo').change(function () {
            let jobNo=$(this).val();
            console.log("jobNo : "+jobNo);
            $('#job2No').empty();
             $.ajax({
               url   :/*[[@{/getRestJob}]]*/, 
                 type: "POST",
                data:{'jobNo':jobNo},
                success: function (data) {
                   console.log(data);                   
               $.each(data, function (index,item) {
                  
                  console.log(item);
                  
                  var addContent = $("<option th:value='"+item.job2No+"' th:text='"+item.job2Category+"'>"+item.job2Category+"</option>");
                    $("#area2Code").append(addContent);

                  
               });
            }
             });
     });   
      /*]]>*/
      
      
      //회원가입 폼
      $('#myFormBtn').click(function() {
         
         
       if($('#memberId').val().length == ""){
             helperInit(); //값이 다시 초기화 됨
              $('#idHelper').text("ID를 중복체크 해주세요");
              $('#memberId').focus();
         }else if($('#memberPw').val().length < 4){
           helperInit(); //값이 다시 초기화 됨
            $('#pwHelper').text("PW는 4자 이상");
            $('#memberPw').focus();
         } else{
            $('#myForm').submit();            
         }
         
      });
   });
   
</script>
</head>
<body id="page-top">

	<!-- Page Wrapper -->
	<div id="wrapper">
		<!-- SideBar -->
		<ul th:include="/include/menuSide::navSide"
			class="navbar-nav bg-gradient-info sidebar sidebar-dark accordion"
			id="accordionSidebar">
		</ul>
		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">
			<div th:include="/include/menuTop::navTop"></div>
			<!-- Main Content -->
			<div id="content">

				<!-- 페이지 내용 -->
				<div class="container-fluid">
					<h1 align="center">경력사항 추가</h1>
					<form th:action="@{/addMemberCareer}" method="post" id="careerForm">
						<div>
							회사 이름 : <input type="text" id="careerCompanyName"
								name="careerCompanyName" class="form-control">
						</div>
						<div>
							입사일 : <input type="date" id="careerStartDate"
								name="careerStartDate" class="form-control">
						</div>
						<div>
							퇴사일 : <input type="date" id="careerEndDate" name="careerEndDate"
								class="form-control">
						</div>
						<div>
							경력 상태 : <select id="careerLeaving" name="careerLeaving"
								class="form-control">
								<option th:value="퇴사" th:text="퇴사">
								<option th:value="재직중" th:text="재직중">
							</select>
						</div>
						<div>
							퇴사 사유 : <input type="text" id="careerReasonForLeaving"
								name="careerReasonForLeaving" class="form-control">
						</div>
						<div>
							직급/ 직책 : <input type="text" id="careerJobgradeJobposition"
								name="careerJobgradeJobposition" class="form-control">
						</div>
						<div>
							연차 : <input type="text" id="careerJobgradeJobpositionYear"
								name="careerJobgradeJobpositionYear" class="form-control">
						</div>
						<div>
							직종 : 
							<select id="jabNo" name="jabNo" class="form-control">
								<option th:each="jl:${jobList}" th:value="${jl.jobNo}" th:text="${jl.jobCategory}"></option>
							</select>
							<select id="job2No" name="job2No" class="form-control">
								<option th:each="jl2:${job2List}" th:value="${jl2.job2No}" th:text="${jl2.job2Category}"></option>
							</select>
							<select id="job3No" name="job3No" class="form-control">
								<option th:each="jl3:${job3List}" th:value="${jl3.job3No}" th:text="${jl3.job3Category}"></option>
							</select>
						</div>
						<div class="row">
							<div class="col-sm-3">주소 :</div>
							<div class="col-sm-4">
								<select name="areaSido" id="areaCode" class="form-control">
									<option value="">시 / 도</option>
									<option th:each="areaList : ${areaList}"
										th:value="${areaList.areaSido}" th:text="${areaList.areaSido}"></option>
								</select> <span id="areaCodeHelper"></span>
							</div>
							<div class="col-sm-5">
								<select id="area2Code" class="form-control" name="area2Gungu">
									<option value="">군 / 구</option>

								</select> <span id="area2CodeHelper"></span>
							</div>
						</div>
						<div>
							경력 부서 : <input type="text" id="careerDepartment"
								name="careerDepartment" class="form-control">
						</div>
						<div>
							월급 : <input type="text" id="careerSalary" name="careerSalary"
								class="form-control">
						</div>
						<div>
							책임 : <input type="text" id="careerResponsibilities"
								name="careerResponsibilities" class="form-control">
						</div>
						<div>
							프로젝트 내용 :
							<textarea rows="10" id="careerProjectContents"
								name="careerProjectContents" class="form-control"></textarea>
						</div>

						<div>
							<button id="Btn" class="btn btn-info">입력</button>
						</div>
					</form>


				</div>
			</div>
		</div>
	</div>
</body>
</html>